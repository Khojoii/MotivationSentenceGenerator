2025-12-10 07:27:30,502 | INFO | Receiving API key from .env file ...
2025-12-10 07:27:30,502 | INFO | API key received
2025-12-10 07:27:31,172 | INFO | Testing OpenAI API connection...
2025-12-10 07:27:32,159 | INFO | HTTP Request: POST https://api.avalai.ir/v1/chat/completions "HTTP/1.1 200 OK"
2025-12-10 07:27:32,164 | INFO | Tokens Used: 30
	Prompt Tokens: 20
		Prompt Tokens Cached: 0
	Completion Tokens: 10
		Reasoning Tokens: 0
Successful Requests: 1
Total Cost (USD): $8.999999999999999e-06
2025-12-10 07:27:32,164 | INFO | OpenAI API test successful
2025-12-10 07:27:32,171 | INFO | Application started successfully.
2025-12-10 07:27:32,171 | INFO | Starting FastAPI app on *.*.*.* : ****
2025-12-10 07:27:45,582 | INFO | Received request: POST /input_daily
2025-12-10 07:27:45,582 | INFO | Rate-limit check passed for /input_daily
2025-12-10 07:27:45,582 | INFO | Daily file content read successfully. Filename=input.json
2025-12-10 07:27:45,583 | ERROR | Daily JSON validation failed: 6 validation errors for DailyMotivationInput
name
  Field required [type=missing, input_value={'user_info': {'name': 'L...at is going to happen"}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
age
  Field required [type=missing, input_value={'user_info': {'name': 'L...at is going to happen"}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
pregnancy_status
  Field required [type=missing, input_value={'user_info': {'name': 'L...at is going to happen"}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
current_situation
  Field required [type=missing, input_value={'user_info': {'name': 'L...at is going to happen"}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
challenges
  Field required [type=missing, input_value={'user_info': {'name': 'L...at is going to happen"}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
goals
  Field required [type=missing, input_value={'user_info': {'name': 'L...at is going to happen"}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
2025-12-10 07:28:20,056 | INFO | Received request: POST /input_daily
2025-12-10 07:28:20,056 | WARNING | Rate limit: must wait 26 seconds before next /input_daily request.
2025-12-10 07:28:45,689 | INFO | Received request: POST /input_daily
2025-12-10 07:28:45,689 | INFO | Rate-limit check passed for /input_daily
2025-12-10 07:28:45,689 | INFO | Daily file content read successfully. Filename=input.json
2025-12-10 07:28:45,689 | ERROR | Daily JSON validation failed: 6 validation errors for DailyMotivationInput
name
  Field required [type=missing, input_value={'user_info': {'name': 'L...at is going to happen"}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
age
  Field required [type=missing, input_value={'user_info': {'name': 'L...at is going to happen"}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
pregnancy_status
  Field required [type=missing, input_value={'user_info': {'name': 'L...at is going to happen"}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
current_situation
  Field required [type=missing, input_value={'user_info': {'name': 'L...at is going to happen"}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
challenges
  Field required [type=missing, input_value={'user_info': {'name': 'L...at is going to happen"}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
goals
  Field required [type=missing, input_value={'user_info': {'name': 'L...at is going to happen"}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
2025-12-10 07:30:16,019 | INFO | Received request: POST /input_daily
2025-12-10 07:30:16,019 | INFO | Rate-limit check passed for /input_daily
2025-12-10 07:30:16,019 | INFO | Daily file content read successfully. Filename=input.json
2025-12-10 07:30:16,019 | INFO | JSON validation passed (DailyMotivationInput).
2025-12-10 07:30:16,020 | INFO | Daily input JSON saved successfully. Original=input.json | Saved=d:\MotivationGEN\Inputs_Outputs/daily_inputs\input5.json
2025-12-10 07:30:29,424 | INFO | Received request: /generate_daily (generate_json)
2025-12-10 07:30:29,424 | INFO | Rate-limit check passed for /generate_daily
2025-12-10 07:30:29,424 | INFO | Selected latest input file: d:\MotivationGEN\Inputs_Outputs/daily_inputs\input5.json
2025-12-10 07:30:29,425 | INFO | Generating output file: d:\MotivationGEN\Inputs_Outputs/daily_outputs\output4.json
2025-12-10 07:30:29,433 | INFO | Input file loaded successfully.
2025-12-10 07:30:29,433 | ERROR | JSON does not contain 'user_info' key
2025-12-10 07:30:29,433 | ERROR | Exception in /generate_daily: ValueError("Missing 'user_info' key in input JSON")
2025-12-10 07:37:04,822 | INFO | Received request: /generate_daily (generate_json)
2025-12-10 07:37:04,822 | INFO | Rate-limit check passed for /generate_daily
2025-12-10 07:37:04,822 | INFO | Selected latest input file: d:\MotivationGEN\Inputs_Outputs/daily_inputs\input5.json
2025-12-10 07:37:04,822 | INFO | Generating output file: d:\MotivationGEN\Inputs_Outputs/daily_outputs\output4.json
2025-12-10 07:37:04,823 | INFO | Input file loaded successfully.
2025-12-10 07:37:04,823 | ERROR | JSON does not contain 'user_info' key
2025-12-10 07:37:04,823 | ERROR | Exception in /generate_daily: ValueError("Missing 'user_info' key in input JSON")
2025-12-10 07:37:07,390 | INFO | Received request: /generate_daily (generate_json)
2025-12-10 07:37:07,390 | WARNING | Generate request rejected due to delay. Must wait 58 seconds.
